# OpenEvolve Configuration for MetaGPT Multi-Agent System Evolution
# This configuration optimizes MetaGPT coordination patterns to minimize failure modes

# General settings
max_iterations: 200                    # Fewer iterations for initial testing
checkpoint_interval: 10                # More frequent checkpoints
log_level: "INFO"
random_seed: 42                       # For reproducibility

# Evolution settings
max_code_length: 50000


llm:
  api_base: "https://api.openai.com/v1"
  models:
    - name: "o3"           # pick a real model you have access to
      weight: 0.5
    - name: "gpt-4o"           # pick a real model you have access to
      weight: 0.5
  temperature: 0.3
  top_p: 0.9
  max_tokens: 8000
  timeout: 120
  retries: 5
  retry_delay: 3
# # LLM configuration
# llm:
#   primary_model: "gpt-4o-mini"        # Use reliable model
#   primary_model_weight: 0.8
#   secondary_model: "gpt-4o"           # Fallback to more capable model
#   secondary_model_weight: 0.2
#   api_base: "https://api.openai.com/v1"
#   api_key: null                       # Will use OPENAI_API_KEY env variable
#   temperature: 0.7                    # Lower temperature for more consistent responses
#   top_p: 0.95
#   max_tokens: 6000                    # Reasonable token limit
#   timeout: 120                        # Shorter timeout
#   retries: 3
#   retry_delay: 5

# Prompt configuration
prompt:
  system_message: "You are an expert programmer specializing in multi-agent systems. Your task is to improve a multi-agent coordination system to minimize failure modes like role confusion, task derailment, and coordination breakdowns. Focus on improving the agent collaboration patterns within the EVOLVE-BLOCK sections to reduce detected failures."

  num_top_programs: 2
  use_template_stochasticity: true

# Database configuration
database:
  population_size: 30
  archive_size: 15
  num_islands: 3
  elite_selection_ratio: 0.2
  exploitation_ratio: 0.7

# Evaluator configuration
evaluator:
  timeout: 120
  cascade_evaluation: true
  cascade_thresholds: [0.3, 0.6]
  parallel_evaluations: 2
  use_llm_feedback: false

# Evolution settings
diff_based_evolution: false
allow_full_rewrites: true